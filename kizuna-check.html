<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>名も無き底辺のただのオッサンシリーズ</title>
    <style>
        body { background-color: #000; color: #fff; font-family: sans-serif; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: 0 auto; }
        .map-bg { width: 100%; max-width: 500px; margin: 10px auto; border-radius: 15px; border: 2px solid #fff; box-shadow: 0 0 20px #fff; }
        h1 { color: #fff; font-size: 1.4rem; margin-bottom: 0.5rem; }
        .kizuna { color: #ff4d4d; font-weight: bold; font-size: 1.5rem; margin-top: 10px; }
        .intro, .outro { background: #111; padding: 20px; border-radius: 10px; margin: 20px 0; line-height: 1.8; border: 1px solid #444; text-align: left; }
        .question-card { display: none; background: #1a1a1a; padding: 30px 20px; border-radius: 15px; min-height: 250px; margin-top: 20px; border: 1px solid #333; }
        .active { display: block; }
        .q-text { font-size: 1.4rem; margin-bottom: 40px; line-height: 1.6; min-height: 80px; display: flex; align-items: center; justify-content: center; }
        .btn-group { display: flex; flex-direction: column; gap: 15px; align-items: center; }
        .row-btn { display: flex; gap: 20px; justify-content: center; width: 100%; }
        button { padding: 18px 40px; font-size: 1.2rem; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 200px; }
        .btn-yes { background: #fff; color: #000; }
        .btn-no { background: #444; color: #fff; }
        .btn-blue { background: #007bff; color: #fff; width: 250px; }
        .chapter-title { color: #ff4d4d; font-size: 1.2rem; margin-bottom: 5px; font-weight: bold; }
        .theme-text { color: #aaa; font-size: 1.0rem; margin-bottom: 15px; }
        .progress-bar { width: 100%; height: 6px; background: #333; margin-top: 10px; border-radius: 3px; }
        .progress-fill { height: 100%; background: #ff4d4d; width: 0%; transition: 0.3s; }
    </style>
</head>
<body>
<div class="container">
    <img src="1000002837.JPG" alt="絆ロゴ" class="map-bg">
    <div class="kizuna">希心愛 - kizuna -</div>
    <h1>名も無き底辺のただのオッサンシリーズ</h1>

    <div id="intro-screen">
        <div class="intro">
            <strong>名も無き底辺のただのオッサンにもできた。 なら――あなたにも、きっとできる。</strong><br><br>
            これはテストじゃない。 正解も不正解もない。<br>
            ただ、自分の気持ちを確かめるだけ。
        </div>
        <div class="btn-group">
            <button class="btn-yes" onclick="startApp(false)">最初から開始する</button>
            <button id="resume-btn" class="btn-blue" style="display:none;" onclick="startApp(true)">前回の続きから再開</button>
        </div>
    </div>

    <div id="question-area" class="question-card">
        <div id="chapter-label" class="chapter-title"></div>
        <div id="theme-label" class="theme-text"></div>
        <div id="q-number" style="font-size: 0.9rem; color:#888; margin-bottom: 10px;"></div>
        <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
        <div id="q-text" class="q-text"></div>
        <div class="row-btn">
            <button class="btn-yes" onclick="nextQ()">はい</button>
            <button class="btn-no" onclick="nextQ()">いいえ</button>
        </div>
    </div>

    <div id="comment-area" class="question-card">
        <div id="comment-header" class="chapter-title" style="font-size: 1.5rem; margin-bottom: 20px;"></div>
        <div id="comment-text" class="q-text" style="font-size: 1.2rem; text-align: left;"></div>
        <button class="btn-yes" id="next-btn" onclick="nextChapter()" style="width: 250px;">次の章へ進む</button>
    </div>

    <div id="outro-screen" class="question-card">
        <div class="outro">
            <strong>【締め：全200問 読了】</strong><br><br>
            疑問を持ち、調べ、考え、何かに気づけたなら――<br><br>
            それができた今の自分を、ちゃんと褒めてあげてください。
        </div>
        <button class="btn-yes" onclick="resetAndRestart()">最初からやり直す</button>
    </div>
</div>

<script>
    const chapters = [
        { title: "① 思考停止セルフCHECK", theme: "テーマ：考えてなかったかも？", comment: "第1章 読了。立ち止まれたなら、それで十分です。", questions: ["最近「なんでこうなるんやろ？」と思った？", "よく分からんけど、そのままにした？", "難しそうな話を「まぁええか」で終わらせた？", "自分には関係ないと思った？", "あんまり考えずに決めてきたかも？", "「考えてもムダ」と思った？", "誰かの意見をそのまま信じた？", "分からんけど分かったフリした？", "みんながそう言うから、で決めた？", "考えてた“つもり”やったかも？", "考えるのって面倒やと思ってない？", "分からんって言いにくくなかった？", "立ち止まって考えたことある？", "考えなくて楽やったことある？", "それでも、今ここまで読んでる？", "今日ひとつ疑問出てきた？", "すぐ答え出さなくてもええと思える？", "自分の感じ方、大事にしてええと思う？", "考えるだけでも意味あると思える？", "今の自分、ちょっとええやんと思える？"] },
        { title: "② 気づきセルフCHECK", theme: "テーマ：しんどさの正体", comment: "第2章 読了。気づけた自分を、否定しなくていい。", questions: Array(20).fill("今の自分に無理させてない？") },
        { title: "③ マイナンバーセルフCHECK", theme: "テーマ：知らんまま決めてない？", comment: "第3章 読了。知ろうとした今が、一歩目です。", questions: Array(20).fill("中身を説明されたことある？") },
        { title: "④ マイナカードセルフCHECK", theme: "テーマ：ホンマに必要かな？", comment: "第4章 読了。自分基準で決めて大丈夫。", questions: Array(20).fill("本当の「便利」って何やと思う？") },
        { title: "⑤ 自己責任セルフCHECK", theme: "テーマ：全部自分のせい？", comment: "第5章 読了。自分を責めすぎないで。", questions: Array(20).fill("選べる選択肢、本当にあった？") },
        { title: "⑥ 憲法セルフCHECK", theme: "テーマ：守るもの？守られるもの？", comment: "第6章 読了。自分に関係あるかもと思えたらOK。", questions: Array(20).fill("憲法が自分を守る盾だと知ってた？") },
        { title: "⑦ 民主主義セルフCHECK", theme: "テーマ：参加してるつもり？", comment: "第7章 読了。考えることも、一つの参加です。", questions: Array(20).fill("自分の声、どこかに届いてる？") },
        { title: "⑧ 責任の所在セルフCHECK", theme: "テーマ：誰が決めてる？", comment: "第8章 読了。違和感を大切にしてください。", questions: Array(20).fill("責任だけ押しつけられてない？") },
        { title: "⑨ 情報セルフCHECK", theme: "テーマ：誰の言葉？", comment: "第9章 読了。立ち止まって考えた時間に意味がある。", questions: Array(20).fill("その情報は誰を笑わせるためのもの？") },
        { title: "⑩ 行動の入口", theme: "テーマ：これから何を選ぶ？", comment: "全章 読了。ここまで来たこと自体が大きな選択です。", questions: Array(20).fill("自分のペースで歩き出そうと思える？") }
    ];

    let currentChapter = 0;
    let currentQuestion = 0;

    window.onload = function() {
        const savedCh = localStorage.getItem('kizuna_ch');
        const savedQ = localStorage.getItem('kizuna_q');
        if (savedCh !== null) {
            document.getElementById('resume-btn').style.display = 'block';
            document.getElementById('resume-btn').innerText = `第${parseInt(savedCh)+1}章 Q${parseInt(savedQ)+1} から再開`;
        }
    };

    function startApp(resume) {
        if (resume) {
            currentChapter = parseInt(localStorage.getItem('kizuna_ch')) || 0;
            currentQuestion = parseInt(localStorage.getItem('kizuna_q')) || 0;
        } else {
            localStorage.clear();
            currentChapter = 0;
            currentQuestion = 0;
        }
        document.getElementById('intro-screen').style.display = 'none';
        document.getElementById('question-area').classList.add('active');
        showQuestion();
    }

    function showQuestion() {
        const q = chapters[currentChapter].questions[currentQuestion];
        document.getElementById('chapter-label').innerText = chapters[currentChapter].title;
        document.getElementById('theme-label').innerText = chapters[currentChapter].theme;
        document.getElementById('q-number').innerText = `第 ${currentChapter + 1} 章 / Q${currentQuestion + 1}`;
        document.getElementById('q-text').innerText = q;
        document.getElementById('progress-fill').style.width = ((currentQuestion + 1) / 20 * 100) + "%";
        localStorage.setItem('kizuna_ch', currentChapter);
        localStorage.setItem('kizuna_q', currentQuestion);
    }

    function nextQ() {
        currentQuestion++;
        if (currentQuestion < 20) {
            showQuestion();
        } else {
            showComment();
        }
    }

    function showComment() {
        document.getElementById('question-area').classList.remove('active');
        document.getElementById('comment-area').classList.add('active');
        document.getElementById('comment-header').innerText = "CHAPTER CLEAR!";
        document.getElementById('comment-text').innerText = chapters[currentChapter].comment;
        if(currentChapter === 9) document.getElementById('next-btn').innerText = "最後のメッセージへ";
    }

    function nextChapter() {
        currentChapter++;
        currentQuestion = 0;
        document.getElementById
