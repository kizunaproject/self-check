<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>倭之魂：自らを守る十章</title>
    <style>
        body {
            background-color: #0d0d0d;
            /* 背景画像：あなたのファイル名に合わせています */
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('ヤマトスピリット.jpg.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #e0e0e0;
            font-family: sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
        #container { width: 95%; max-width: 600px; margin: 20px 0; padding: 20px; background: rgba(13, 13, 13, 0.85); border-radius: 15px; }
        .screen { display: none; }
        .active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        h1 { color: #d4af37; border-bottom: 1px solid #d4af37; font-size: 1.2rem; }
        h2 { color: #ffeb3b; font-size: 1.1rem; }
        .btn-group { display: flex; flex-direction: column; gap: 10px; margin: 15px 0; }
        button { padding: 15px; background: rgba(212, 175, 55, 0.1); border: 1px solid #d4af37; color: #d4af37; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #d4af37; color: black; }
        .resume-box { background: #222; padding: 15px; border: 2px solid #ffeb3b; border-radius: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>
<div id="container">
    <div id="intro" class="screen active">
        <h1>【倭之魂：自らを守る十章】</h1>
        <div id="resume-section" style="display:none;"><div class="resume-box"><p>⚠️ 続きからやるか？</p><button onclick="resumeQuiz()">続きから始める</button><button onclick="startFresh()">最初から</button></div></div>
        <p>自らの魂をチェックする十章。準備はいいか。</p>
        <button id="start-btn" onclick="showScreen('ch1_1')">チェックを開始する</button>
    </div>

    <script>
        const chapters = [
            { title: "第一章：憲法の嘘", msg: "その感覚、忘れなや。" },
            { title: "第二章：民主主義の罠", msg: "多数決が正義とは限らんで。" },
            { title: "第三章：教育の檻", msg: "教えられたことが全てやない。" },
            { title: "第四章：情報の毒", msg: "目に見えるもんだけが真実か？" },
            { title: "第五章：食の危機", msg: "身体はあんたの食べたもんで出来てる。" },
            { title: "第六章：貨幣の支配", msg: "金に魂まで売ったらあかんで。" },
            { title: "第七章：医療の闇", msg: "本当の健康は誰が守るんや？" },
            { title: "第八章：歴史の改竄", msg: "根っこを奪われた木は枯れるだけや。" },
            { title: "第九章：家族の崩壊", msg: "守るべきもんは、すぐ側にある。" },
            { title: "第十章：倭之魂の覚醒", msg: "ようここまで来たな。誇りを持て。" }
        ];
        
        for(let c=1; c<=10; c++) {
            for(let q=1; q<=3; q++) {
                let nextId = (q === 3) ? `ch${c+1}_1` : `ch${c}_${q+1}`;
                if(c === 10 && q === 3) nextId = 'result';
                
                document.write(`
                <div id="ch${c}_${q}" class="screen">
                    <h2>${chapters[c-1].title} - 問${q}</h2>
                    <p>この問いに、あんたの魂はどう答える？</p>
                    <div class="btn-group">
                        <button onclick="answer('${nextId}', ${c-1})">はい</button>
                        <button onclick="answer('${nextId}', ${c-1})">どちらでもない</button>
                        <button onclick="answer('${nextId}', ${c-1})">いいえ</button>
                    </div>
                </div>`);
            }
        }

        function answer(nextId, index) {
            alert(chapters[index].msg); // 章ごとのメッセージを表示
            saveProgress(nextId);
        }
    </script>

    <div id="result" class="screen">
        <h1>診断完了</h1>
        <p>全十章の問いに答えたな。これが今のあんたの魂の現在地や。忘れるなよ、自らを守ることを。</p>
        <button onclick="startFresh()">記録を消して最初に戻る</button>
    </div>
</div>

<script>
    window.onload = function() {
        const saved = localStorage.getItem('yamato_step');
        if (saved && saved !== 'intro') {
            document.getElementById('resume-section').style.display = 'block';
            document.getElementById('start-btn').style.display = 'none';
        }
    };
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        const target = document.getElementById(id);
        if (target) { target.classList.add('active'); }
        else { document.getElementById('result').classList.add('active'); }
        window.scrollTo(0, 0);
    }
    function saveProgress(nextId) {
        localStorage.setItem('yamato_step', nextId);
        showScreen(nextId);
    }
    function resumeQuiz() { showScreen(localStorage.getItem('yamato_step')); }
    function startFresh() { localStorage.removeItem('yamato_step'); location.reload(); }
</script>
</body>
</html>
