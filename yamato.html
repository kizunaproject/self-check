<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>倭之魂：自らを守る十章</title>
    <style>
        body {
            background-color: #0d0d0d;
            /* 背景画像をあなたのファイル名に完全に一致させました */
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('ヤマトスピリット.jpg.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #e0e0e0;
            font-family: sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
        #container {
            width: 90%;
            max-width: 600px;
            margin: 40px 0;
            padding: 20px;
            background: rgba(13, 13, 13, 0.85);
            border-radius: 15px;
        }
        .screen { display: none; }
        .active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        h1 { color: #d4af37; border-bottom: 1px solid #d4af37; padding-bottom: 10px; }
        .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 15px; }
        button {
            padding: 12px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            color: #d4af37;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        button:hover { background: #d4af37; color: black; }
        .resume-box { background: #222; padding: 15px; border: 2px solid #ffeb3b; border-radius: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="container">
    <div id="intro" class="screen active">
        <h1>【倭之魂：自らを守る十章】</h1>
        <div id="resume-section" style="display:none;">
            <div class="resume-box">
                <p>⚠️ 前回の続きがあるみたいや。どうする？</p>
                <button onclick="resumeQuiz()">続きから始める</button>
                <button onclick="startFresh()" style="border-color:#888; color:#888;">最初からやり直す</button>
            </div>
        </div>
        <p>自らの魂をチェックする十章。準備はいいか。</p>
        <button id="start-btn" onclick="showScreen('ch1')">チェックを開始する</button>
    </div>

    <div id="ch1" class="screen">
        <h2>第1章：国家と憲法</h2>
        <p>Q1. 国が必ず自分を守ってくれると信じている？</p>
        <div class="btn-group">
            <button onclick="saveProgress('ch2')">はい</button>
            <button onclick="saveProgress('ch2')">どちらでもない</button>
            <button onclick="saveProgress('ch2')">いいえ</button>
        </div>
    </div>

    <div id="ch2" class="screen">
        <h2>第2章：自立の精神</h2>
        <p>Q1. 自分の身は自分で守る覚悟があるか？</p>
        <div class="btn-group">
            <button onclick="saveProgress('result')">はい</button>
            <button onclick="saveProgress('result')">どちらでもない</button>
            <button onclick="saveProgress('result')">いいえ</button>
        </div>
    </div>

    <div id="result" class="screen">
        <h1>診断完了</h1>
        <p>これが今のあんたの魂の現在地や。</p>
        <button onclick="startFresh()">記録を消して最初から</button>
    </div>
</div>

<script>
    window.onload = function() {
        const saved = localStorage.getItem('yamato_step');
        if (saved && saved !== 'intro') {
            document.getElementById('resume-section').style.display = 'block';
            document.getElementById('start-btn').style.display = 'none';
        }
    };

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        const target = document.getElementById(id);
        if (target) {
            target.classList.add('active');
        } else {
            document.getElementById('result').classList.add('active');
        }
        window.scrollTo(0, 0);
    }

    function saveProgress(nextId) {
        localStorage.setItem('yamato_step', nextId);
        showScreen(nextId);
    }

    function resumeQuiz() {
        const saved = localStorage.getItem('yamato_step');
        showScreen(saved);
    }

    function startFresh() {
        localStorage.removeItem('yamato_step');
        location.reload();
    }
</script>

</body>
</html>
